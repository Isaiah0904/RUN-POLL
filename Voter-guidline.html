<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>RUNPOLLS | Voters Guideline</title>
    <!-- Bootstrap CSS -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Bootstrap Icons - Fixed CDN -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"
    />

    <link rel="stylesheet" href="Voter-guidline.css" />
  </head>
  <body>
    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
      <div class="logo-container">
        <img class="logo" src="images/Logo.png"/>
        <i class="bi bi-x-lg" id="close"></i>
      </div>

      <div class="profile-container">
        <!-- Improved profile image container -->
        <div class="profile-image-container" id="sidebarProfileContainer">
          <img
            src="/api/placeholder/70/70"
            class="profile-image"
            id="userProfileImage"
          />
          <div class="edit-icon">
            <i class="bi bi-pencil-fill text-white" style="font-size: 12px"></i>
          </div>
        </div>
        <div class="profile-name" id="userProfileName">Guest User</div>
        <div class="profile-role" id="userProfileRole">Student Voter</div>
      </div>

      <!-- Sidebar Navigation with improved structure -->
      <div class="sidebar-nav">
        <ul class="nav flex-column nav-main">
          <li class="nav-item">
            <a href="Voter-dashboard.html" class="nav-link">
              <i class="bi bi-grid-1x2-fill"></i> Dashboard
            </a>
          </li>
          <li class="nav-item">
            <a href="election-page.html" class="nav-link">
              <i class="bi bi-check2-square"></i> Vote
            </a>
          </li>
          <li class="nav-item">
            <a href="Voter-guidline.html" class="nav-link active">
              <i class="bi bi-journal-text"></i> Voters Guideline
            </a>
          </li>
          <li class="nav-item">
            <a href="profile-settings.html" class="nav-link">
              <i class="bi bi-gear-fill"></i> Profile Settings
            </a>
          </li>
        </ul>

        <!-- Logout button in footer section -->
        <ul class="nav flex-column nav-footer">
          <li class="nav-item">
            <a href="Login.html" class="nav-link text-danger">
              <i class="bi bi-box-arrow-right"></i> Log out
            </a>
          </li>
        </ul>
      </div>
    </div>

    <!-- Main Content -->
    <div class="main-content" id="mainContent">
      <!-- Top Navbar -->
      <div class="top-navbar">
        <button class="toggle-sidebar" id="toggleSidebar">
          <i class="bi bi-list"></i>
        </button>

        <div class="search-bar position-relative">
          <i class="bi bi-search search-icon"></i>
          <input
            type="text"
            class="form-control search-input"
            placeholder="Search..."
          />
        </div>

        <div class="user-actions">
          <div class="action-icon" title="Notifications">
            <a href="notifications.html"><i class="bi bi-bell"></i></a>
          </div>
          <div class="action-icon" title="Help">
            <i class="bi bi-question-circle"></i>
          </div>
          <!-- Improved navbar user container -->
          <div class="navbar-user-container" id="navbarUserContainer">
            <img
              src="/api/placeholder/40/40"
              class="user-avatar"
              id="navbarUserImage"
            />
            <div class="status-indicator"></div>
          </div>
        </div>
      </div>

      <!-- Voters Guideline Content -->
      <div class="guideline-header">
        <h1 class="guideline-title">Voters Guideline</h1>
      </div>

      <div class="guidelines-container">
        <button class="print-btn" id="printGuide" title="Print guidelines">
          <i class="bi bi-printer"></i>
        </button>

        <ul class="guideline-list">
          <li class="guideline-item" id="item1">
            <div class="guideline-bullet"></div>
            <div
              class="guideline-text tooltip-custom"
              data-tooltip="Take your time to research candidates' backgrounds, positions, and qualifications."
            >
              Before voting, take time to research the candidates and issues on
              the ballot.
            </div>
          </li>

          <li class="guideline-item" id="item2">
            <div class="guideline-bullet"></div>
            <div
              class="guideline-text tooltip-custom"
              data-tooltip="Check the requirements to ensure you are authorized to participate in this election."
            >
              Make sure you are eligible to vote in this election.
            </div>
          </li>

          <li class="guideline-item" id="item3">
            <div class="guideline-bullet"></div>
            <div
              class="guideline-text tooltip-custom"
              data-tooltip="Familiarize yourself with how to cast your vote electronically."
            >
              Make sure you understand the voting procedure for the online
              voting system.
            </div>
          </li>

          <li class="guideline-item" id="item4">
            <div class="guideline-bullet"></div>
            <div
              class="guideline-text tooltip-custom"
              data-tooltip="Pay close attention to all voting instructions before submitting."
            >
              Read the instructions carefully before voting.
            </div>
          </li>

          <li class="guideline-item" id="item5">
            <div class="guideline-bullet"></div>
            <div
              class="guideline-text tooltip-custom"
              data-tooltip="Research each candidate's platform to make an informed decision."
            >
              Make sure you understand the candidates and their positions on the
              issues.
            </div>
          </li>

          <li class="guideline-item" id="item6">
            <div class="guideline-bullet"></div>
            <div
              class="guideline-text tooltip-custom"
              data-tooltip="Take your time to select the candidate who best represents your interests."
            >
              Choose your candidate carefully.
            </div>
          </li>

          <li class="guideline-item" id="item7">
            <div class="guideline-bullet"></div>
            <div
              class="guideline-text tooltip-custom"
              data-tooltip="Contact support for any technical issues or questions about the process."
            >
              If you are unsure of how to vote, ask a friend or relative for
              help.
            </div>
          </li>

          <li class="guideline-item" id="item8">
            <div class="guideline-bullet"></div>
            <div
              class="guideline-text tooltip-custom"
              data-tooltip="Review your selections to ensure they accurately reflect your choices."
            >
              Double check your choices before submitting your votes.
            </div>
          </li>

          <li class="guideline-item" id="item9">
            <div class="guideline-bullet"></div>
            <div
              class="guideline-text tooltip-custom"
              data-tooltip="Ensure you're using a private and secure internet connection for voting."
            >
              Make sure you have a secure connection when voting.
            </div>
          </li>

          <li class="guideline-item" id="item10">
            <div class="guideline-bullet"></div>
            <div
              class="guideline-text tooltip-custom"
              data-tooltip="Your vote is confidential; do not share it with others."
            >
              Keep your vote private. Do not share your vote with anyone.
            </div>
          </li>

          <li class="guideline-item" id="item11">
            <div class="guideline-bullet"></div>
            <div
              class="guideline-text tooltip-custom"
              data-tooltip="Be aware of all important dates related to the election."
            >
              Make sure you understand the deadlines for the election.
            </div>
          </li>

          <li class="guideline-item" id="item12">
            <div class="guideline-bullet"></div>
            <div
              class="guideline-text tooltip-custom"
              data-tooltip="Adhere to the official rules set by your election authorities."
            >
              Follow the voting guidelines set by your local election office.
            </div>
          </li>

          <li class="guideline-item" id="item13">
            <div class="guideline-bullet"></div>
            <div
              class="guideline-text tooltip-custom"
              data-tooltip="Report any technical issues or suspected irregularities."
            >
              Report any problems or concerns you have about the voting process.
            </div>
          </li>

          <li class="guideline-item" id="item14">
            <div class="guideline-bullet"></div>
            <div class="guideline-text">
              Thank you for participating in democracy!
            </div>
          </li>
        </ul>

        <img
          src="images/Voting-pana.png"
          alt="Voting Illustration"
          class="guidelines-image"
        />

        <div class="contact-info">
          Got more questions?<br />
          Please contact:
          <a href="mailto:isaiahdurojaiye9@gmail.com" class="contact-email"
            >isaiahdurojaiye9@gmail.com</a
          >
        </div>
      </div>
    </div>

    <!-- Help Modal -->
    <div
      class="modal fade help-modal"
      id="helpModal"
      tabindex="-1"
      aria-labelledby="helpModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <h5
              class="modal-title d-flex align-items-center"
              id="helpModalLabel"
            >
              <i class="bi bi-headset me-2"></i>
              Need Help? We're Here for You!
            </h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <!-- Contact Methods -->
            <div class="mb-4">
              <h6 class="text-primary mb-3">
                <i class="bi bi-telephone-fill me-2"></i>Contact Our Support
                Team
              </h6>
              <div class="row g-3">
                <div class="col-md-6">
                  <div class="card contact-card p-3 text-center">
                    <div class="contact-icon phone-icon mx-auto">
                      <i class="bi bi-telephone-fill"></i>
                    </div>
                    <h6 class="fw-bold">Phone Support</h6>
                    <p class="text-muted mb-2">
                      Call us directly for immediate assistance
                    </p>
                    <p class="fw-bold text-success mb-0">+234 803 123 4567</p>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="card contact-card p-3 text-center">
                    <div class="contact-icon email-icon mx-auto">
                      <i class="bi bi-envelope-fill"></i>
                    </div>
                    <h6 class="fw-bold">Email Support</h6>
                    <p class="text-muted mb-2">
                      Send us detailed questions anytime
                    </p>
                    <p class="fw-bold text-primary mb-0">
                      support@runpolls.edu.ng
                    </p>
                  </div>
                </div>

            <!-- Emergency Contact -->
            <div class="alert alert-warning mb-4">
              <h6 class="alert-heading">
                <i class="bi bi-exclamation-triangle-fill me-2"></i>Emergency
                Support
              </h6>
              <p class="mb-1">
                For urgent election-related issues during voting periods:
              </p>
              <p class="mb-0">
                <strong>Emergency Hotline:</strong> +234 805 987 6543
              </p>
              <small>Available 24/7 during active election periods only</small>
            </div>

            <!-- FAQ Section -->
            <div class="mb-4">
              <h6 class="text-primary mb-3">
                <i class="bi bi-question-circle-fill me-2"></i>Frequently Asked
                Questions
              </h6>
              <div class="faq-item">
                <div class="faq-question">How do I reset my password?</div>
                <div class="faq-answer">
                  Click on "Forgot Password" on the login page and follow the
                  instructions sent to your registered email.
                </div>
              </div>
              <div class="faq-item">
                <div class="faq-question">
                  Can I change my vote after submitting?
                </div>
                <div class="faq-answer">
                  No, votes are final once submitted. Please review your choices
                  carefully before confirming.
                </div>
              </div>
              <div class="faq-item">
                <div class="faq-question">
                  What if I'm having trouble logging in?
                </div>
                <div class="faq-answer">
                  Ensure you're using your correct Student ID and password.
                  Clear your browser cache or try a different browser. If issues
                  persist, contact support.
                </div>
              </div>
              <div class="faq-item">
                <div class="faq-question">
                  How do I update my profile information?
                </div>
                <div class="faq-answer">
                  You can update your profile from the Profile Settings page.
                </div>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Close
            </button>
          </div>
        </div>
      </div>
    </div>

    

    <!-- Bootstrap & Other JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Initialize profile containers
        const sidebarProfileContainer = document.getElementById(
          "sidebarProfileContainer"
        );
        const navbarUserContainer = document.getElementById(
          "navbarUserContainer"
        );

        // Function to show profile image or default user icon
        function updateProfileDisplays(imageUrl) {
          // Clear existing sidebar container
          sidebarProfileContainer.innerHTML = "";
          navbarUserContainer.innerHTML = "";

          if (imageUrl) {
            // Sidebar profile image
            const sidebarImg = document.createElement("img");
            sidebarImg.src = imageUrl;
            sidebarImg.alt = "Profile";
            sidebarImg.className = "profile-image";
            sidebarImg.id = "userProfileImage";
            sidebarImg.style.borderRadius = "50%";
            sidebarImg.style.width = "100%";
            sidebarImg.style.height = "100%";
            sidebarImg.style.objectFit = "cover";
            sidebarProfileContainer.appendChild(sidebarImg);

            // Add edit icon to sidebar profile
            const editIcon = document.createElement("div");
            editIcon.className = "edit-icon";
            editIcon.innerHTML =
              '<i class="bi bi-pencil-fill text-white" style="font-size: 12px;"></i>';
            sidebarProfileContainer.appendChild(editIcon);

            // Navbar profile image
            const navbarImg = document.createElement("img");
            navbarImg.src = imageUrl;
            navbarImg.alt = "User";
            navbarImg.className = "user-avatar";
            navbarImg.id = "navbarUserImage";
            navbarImg.style.borderRadius = "50%";
            navbarImg.style.width = "100%";
            navbarImg.style.height = "100%";
            navbarImg.style.objectFit = "cover";
            navbarUserContainer.appendChild(navbarImg);

            // Add status indicator to navbar
            const statusIndicator = document.createElement("div");
            statusIndicator.className = "status-indicator";
            navbarUserContainer.appendChild(statusIndicator);
          } else {
            // Sidebar profile icon - default user icon
            const sidebarIcon = document.createElement("div");
            sidebarIcon.className = "default-user-icon";
            sidebarIcon.innerHTML = `
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                            <path fill="#888888" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"/>
                        </svg>
                    `;
            sidebarProfileContainer.appendChild(sidebarIcon);

            // Add edit icon to sidebar profile
            const editIcon = document.createElement("div");
            editIcon.className = "edit-icon";
            editIcon.innerHTML =
              '<i class="bi bi-pencil-fill text-white" style="font-size: 12px;"></i>';
            sidebarProfileContainer.appendChild(editIcon);

            // Navbar profile icon - default user icon
            const navbarIcon = document.createElement("div");
            navbarIcon.className = "default-user-icon";
            navbarIcon.innerHTML = `
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                            <path fill="#888888" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"/>
                        </svg>
                    `;
            navbarUserContainer.appendChild(navbarIcon);

            // Add status indicator to navbar
            const statusIndicator = document.createElement("div");
            statusIndicator.className = "status-indicator";
            navbarUserContainer.appendChild(statusIndicator);
          }

          // If modal is open, update modal profile image as well
          const modalProfileContainer = document.getElementById(
            "modalProfileContainer"
          );
          if (modalProfileContainer) {
            updateModalProfileImage(modalProfileContainer, imageUrl);
          }
        }

        // Function to update modal profile image
        function updateModalProfileImage(container, imageUrl) {
          container.innerHTML = "";

          if (imageUrl) {
            const img = document.createElement("img");
            img.src = imageUrl;
            img.alt = "Profile";
            img.style.width = "100%";
            img.style.height = "100%";
            img.style.objectFit = "cover";
            img.style.borderRadius = "50%";
            container.appendChild(img);
          } else {
            container.innerHTML = `
                        <div class="default-user-icon" style="width: 100%; height: 100%; background-color: #e9ecef; border-radius: 50%;">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" style="width: 80%; height: 80%; margin: 10%;">
                                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"/>
                            </svg>
                        </div>
                    `;
          }
        }

        // Helper function to show alerts
        function showAlert(message, type) {
          const alertDiv = document.createElement("div");
          alertDiv.className = `alert alert-${type} alert-dismissible fade show`;
          alertDiv.role = "alert";
          alertDiv.style.position = "fixed";
          alertDiv.style.top = "20px";
          alertDiv.style.right = "20px";
          alertDiv.style.zIndex = "9999";
          alertDiv.innerHTML = `
                    ${message}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                `;

          document.body.appendChild(alertDiv);

          // Auto dismiss after 3 seconds
          setTimeout(() => {
            if (alertDiv.parentNode) {
              const bsAlert = new bootstrap.Alert(alertDiv);
              bsAlert.close();
            }
          }, 3000);
        }

        // Load user profile data including image
        try {
          const user = JSON.parse(localStorage.getItem("currentUser")) || {};

          // Update profile name
          if (user.firstName && user.lastName) {
            document.getElementById(
              "userProfileName"
            ).textContent = `${user.firstName} ${user.lastName}`;
          }

          // Update profile role if exists
          if (user.role) {
            document.getElementById("userProfileRole").textContent = user.role;
          }

          // Update profile images
          updateProfileDisplays(user.profileImage);
        } catch (error) {
          console.error("Error loading user profile:", error);
          updateProfileDisplays(null);
        }

        // Create profile edit modal with upload and remove functionality
        function createProfileEditModal() {
          // Modal HTML structure
          const modalHTML = `
                    <div class="modal fade" id="profileEditModal" tabindex="-1" aria-labelledby="profileEditModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="profileEditModalLabel">View Profile Picture</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body text-center">
                                <div class="mb-4">
                                    <div class="position-relative d-inline-block">
                                        <div id="modalProfileContainer" class="rounded-circle overflow-hidden" style="width: 150px; height: 150px;">
                                            <!-- Image will be inserted here -->
                                        </div>
                                    </div>
                                </div>
                                <div class="mb-4">
                                    <button id="modalUploadBtn" class="btn btn-success btn-sm rounded-pill px-4" style="display: none;">UPLOAD</button>
                                    <button id="modalRemoveBtn" class="btn btn-danger btn-sm rounded-pill px-4 ms-2" style="display: none;">REMOVE</button>
                                </div>
                                <p class="text-muted small">Go to Profile Settings to change your profile picture</p>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                            </div>
                        </div>
                    </div>
                </div>
                `;

          // Append modal to body
          const modalDiv = document.createElement("div");
          modalDiv.innerHTML = modalHTML;
          document.body.appendChild(modalDiv);

          // Get current user data
          const user = JSON.parse(localStorage.getItem("currentUser")) || {};

          // Update modal profile container with current image or default icon
          const modalProfileContainer = document.getElementById(
            "modalProfileContainer"
          );
          updateModalProfileImage(modalProfileContainer, user.profileImage);

          // Handle upload button click in modal
          document
            .getElementById("modalUploadBtn")
            .addEventListener("click", function () {
              // Create file input element
              const fileInput = document.createElement("input");
              fileInput.type = "file";
              fileInput.accept = "image/*";
              fileInput.style.display = "none";
              document.body.appendChild(fileInput);

              // Trigger file selection
              fileInput.click();

              // Handle file selection
              fileInput.addEventListener("change", function () {
                if (this.files && this.files[0]) {
                  const reader = new FileReader();

                  reader.onload = function (e) {
                    const imageResult = e.target.result;

                    // Update modal image
                    updateModalProfileImage(modalProfileContainer, imageResult);

                    // Update profile images on page
                    updateProfileDisplays(imageResult);

                    // Store image in localStorage
                    try {
                      let user =
                        JSON.parse(localStorage.getItem("currentUser")) || {};
                      user.profileImage = imageResult;
                      localStorage.setItem("currentUser", JSON.stringify(user));

                      // Show success message
                      showAlert(
                        "Profile picture updated successfully!",
                        "success"
                      );
                    } catch (error) {
                      console.error("Error saving profile image:", error);
                      showAlert(
                        "Error saving profile image. Please try again.",
                        "danger"
                      );
                    }
                  };

                  reader.readAsDataURL(this.files[0]);
                }

                // Clean up
                document.body.removeChild(fileInput);
              });
            });

          // Handle remove button click in modal
          document
            .getElementById("modalRemoveBtn")
            .addEventListener("click", function () {
              // Update both modal and page with default icons
              updateModalProfileImage(modalProfileContainer, null);
              updateProfileDisplays(null);

              // Remove image from storage
              try {
                let user =
                  JSON.parse(localStorage.getItem("currentUser")) || {};
                delete user.profileImage;
                localStorage.setItem("currentUser", JSON.stringify(user));

                // Show success message
                showAlert("Profile picture removed successfully!", "success");
              } catch (error) {
                console.error("Error removing profile image:", error);
                showAlert(
                  "Error removing profile image. Please try again.",
                  "danger"
                );
              }
            });

          return new bootstrap.Modal(
            document.getElementById("profileEditModal")
          );
        }

        // Add profile edit functionality to both sidebar and navbar profile images
        const profileElements = [sidebarProfileContainer, navbarUserContainer];

        profileElements.forEach((element) => {
          element.style.cursor = "pointer";
          element.addEventListener("click", function (e) {
            e.preventDefault();
            e.stopPropagation();

            // Create and show the modal
            const profileModal = createProfileEditModal();
            profileModal.show();

            // Clean up when modal is hidden
            document
              .getElementById("profileEditModal")
              .addEventListener("hidden.bs.modal", function () {
                if (this.parentNode) {
                  document.body.removeChild(this.parentNode);
                }
              });
          });
        });

        // Toggle Sidebar
        document
          .getElementById("toggleSidebar")
          .addEventListener("click", function () {
            document.getElementById("sidebar").classList.toggle("active");
          });
        document.getElementById("close").addEventListener("click", function () {
          document.getElementById("sidebar").classList.remove("active");
        });

        // Animate guidelines on load
        const items = document.querySelectorAll(".guideline-item");

        items.forEach((item, index) => {
          item.classList.add("animated-item");
          item.style.animationDelay = `${index * 0.1}s`;
        });

        // Print functionality
        document
          .getElementById("printGuide")
          .addEventListener("click", function () {
            window.print();
          });

        // Interactive tooltips (enhanced)
        const tooltips = document.querySelectorAll(".tooltip-custom");

        tooltips.forEach((tooltip) => {
          tooltip.addEventListener("click", function () {
            // Create a floating notification
            const notification = document.createElement("div");
            notification.textContent = this.getAttribute("data-tooltip");
            notification.style.position = "fixed";
            notification.style.bottom = "20px";
            notification.style.left = "50%";
            notification.style.transform = "translateX(-50%)";
            notification.style.backgroundColor = "var(--primary)";
            notification.style.color = "white";
            notification.style.padding = "10px 20px";
            notification.style.borderRadius = "5px";
            notification.style.zIndex = "1000";
            notification.style.boxShadow = "0 4px 8px rgba(0,0,0,0.1)";
            notification.style.transition = "opacity 0.3s";

            document.body.appendChild(notification);

            // Remove after 3 seconds
            setTimeout(() => {
              notification.style.opacity = "0";
              setTimeout(() => {
                document.body.removeChild(notification);
              }, 300);
            }, 3000);
          });
        });
      });

      // Search functionality
      const searchInput = document.querySelector(".search-input");
      searchInput.addEventListener("input", function () {
        const searchTerm = this.value.toLowerCase();
        const guidelineTexts = document.querySelectorAll(".guideline-text");

        guidelineTexts.forEach((text) => {
          const parent = text.parentElement;
          const content = text.textContent.toLowerCase();

          if (content.includes(searchTerm)) {
            parent.style.display = "flex";
            // Highlight the matched text
            if (searchTerm.length > 0) {
              const regex = new RegExp(`(${searchTerm})`, "gi");
              const highlightedText = text.textContent.replace(
                regex,
                '<span style="background-color: yellow;">$1</span>'
              );
              text.innerHTML = highlightedText;
            } else {
              text.innerHTML = text.textContent;
            }
          } else {
            parent.style.display = "none";
          }
        });
      });

      // Help Modal Implementation
document.addEventListener("DOMContentLoaded", function () {
  // Initialize help modal
  const helpModal = new bootstrap.Modal(document.getElementById("helpModal"));
  
  // Get help icon - it's in the user-actions div with question-circle class
  const helpIcon = document.querySelector('.action-icon[title="Help"]');
  
  // Help icon click handler
  if (helpIcon) {
    helpIcon.addEventListener("click", function (e) {
      e.preventDefault();
      e.stopPropagation();
      console.log("Help icon clicked");
      helpModal.show();
    });
    
    // Add pointer cursor to help icon
    helpIcon.style.cursor = "pointer";
  }

  // Additional event handlers for modal
  const helpModalElement = document.getElementById("helpModal");
  
  if (helpModalElement) {
    // Modal shown event
    helpModalElement.addEventListener("shown.bs.modal", function () {
      console.log("Help modal opened");
    });

    // Modal hidden event
    helpModalElement.addEventListener("hidden.bs.modal", function () {
      console.log("Help modal closed");
    });

    // Handle ESC key press to close modal
    document.addEventListener("keydown", function (e) {
      if (e.key === "Escape" && helpModalElement.classList.contains("show")) {
        helpModal.hide();
      }
    });
  }

  // FAQ accordion functionality (if you want expandable FAQ items)
  const faqItems = document.querySelectorAll('.faq-item');
  
  faqItems.forEach(item => {
    const question = item.querySelector('.faq-question');
    const answer = item.querySelector('.faq-answer');
    
    if (question && answer) {
      // Initially hide answers
      answer.style.display = 'none';
      question.style.cursor = 'pointer';
      
      // Add click handler to questions
      question.addEventListener('click', function() {
        const isVisible = answer.style.display === 'block';
        
        // Hide all other answers first
        faqItems.forEach(otherItem => {
          const otherAnswer = otherItem.querySelector('.faq-answer');
          if (otherAnswer && otherAnswer !== answer) {
            otherAnswer.style.display = 'none';
            otherItem.querySelector('.faq-question').classList.remove('active');
          }
        });
        
        // Toggle current answer
        if (isVisible) {
          answer.style.display = 'none';
          question.classList.remove('active');
        } else {
          answer.style.display = 'block';
          question.classList.add('active');
        }
      });
    }
  });

  // Contact card click handlers (optional - for better UX)
  const phoneCard = document.querySelector('.contact-card .phone-icon').closest('.contact-card');
  const emailCard = document.querySelector('.contact-card .email-icon').closest('.contact-card');
  
  if (phoneCard) {
    phoneCard.addEventListener('click', function() {
      const phoneNumber = this.querySelector('.text-success').textContent;
      window.location.href = `tel:${phoneNumber}`;
    });
    phoneCard.style.cursor = 'pointer';
  }
  
  if (emailCard) {
    emailCard.addEventListener('click', function() {
      const email = this.querySelector('.text-primary').textContent;
      window.location.href = `mailto:${email}`;
    });
    emailCard.style.cursor = 'pointer';
  }

  // Initialize tooltips for the help section
  const tooltipTriggerList = [].slice.call(
    document.querySelectorAll('[data-bs-toggle="tooltip"]')
  );
  tooltipTriggerList.map(function (tooltipTriggerEl) {
    return new bootstrap.Tooltip(tooltipTriggerEl);
  });

  console.log("Help modal functionality initialized");
});

// Alternative method if the above doesn't work due to timing issues
function initializeHelpModal() {
  const helpModal = new bootstrap.Modal(document.getElementById("helpModal"));
  const helpIcon = document.querySelector('.action-icon[title="Help"]');
  
  if (helpIcon) {
    helpIcon.onclick = function(e) {
      e.preventDefault();
      helpModal.show();
    };
  }
}

// Call this function after your existing initialization
// initializeHelpModal();
    </script>
  </body>
</html>