<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RUNPOLLS | Registration</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.11.1/font/bootstrap-icons.min.css" rel="stylesheet">
    <link rel="stylesheet" href="registration.css">
</head>
<style>
    :root {
  --primary: #4954b8;
  --primary-dark: #3a429b;
  --secondary: #f5f7ff;
  --light-gray: #f8f9fa;
  --text-dark: #2a3074;
  --text-gray: #6c757d;
  --shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
}

body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background-color: #f5f7ff;
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  padding: 20px;
}

.registration-container {
  max-width: 800px;
  width: 100%;
  background-color: white;
  border-radius: 15px;
  box-shadow: var(--shadow);
  overflow: hidden;
}

.registration-header {
  background-color: var(--primary);
  color: white;
  padding: 25px 30px;
  text-align: center;
}

.logo-container {
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 15px;
}

.logo {
  background-color: white;
  color: var(--primary);
  width: 60px;
  height: 60px;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  font-weight: bold;
  font-size: 18px;
  margin-right: 10px;
}

.brand-text {
  font-weight: bold;
  font-size: 24px;
}

.registration-title {
  font-size: 18px;
  font-weight: 500;
  margin-bottom: 0;
}

.registration-form {
  padding: 30px;
}

.form-label {
  font-weight: 500;
  color: var(--text-dark);
}

.form-control {
  border-radius: 8px;
  padding: 12px 15px;
  border: 1px solid #e0e0e0;
}

.form-control:focus {
  border-color: var(--primary);
  box-shadow: 0 0 0 0.25rem rgba(73, 84, 184, 0.25);
}

.btn-primary {
  background-color: var(--primary);
  border-color: var(--primary);
  border-radius: 8px;
  padding: 12px 25px;
  font-weight: 500;
  transition: all 0.3s;
}

.btn-primary:hover {
  background-color: var(--primary-dark);
  border-color: var(--primary-dark);
  transform: translateY(-2px);
}

/* Profile picture upload styling */
.profile-upload-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-bottom: 25px;
}

.profile-preview {
  width: 120px;
  height: 120px;
  border-radius: 50%;
  background-color: var(--light-gray);
  display: flex;
  justify-content: center;
  align-items: center;
  overflow: hidden;
  margin-bottom: 15px;
  border: 3px solid var(--primary);
}

.profile-preview img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.profile-icon {
  font-size: 60px;
  color: var(--text-gray);
}

.upload-btn-wrapper {
  position: relative;
  overflow: hidden;
  display: inline-block;
}

.upload-btn {
  border: 2px solid var(--primary);
  color: var(--primary);
  background-color: white;
  padding: 8px 20px;
  border-radius: 8px;
  font-size: 14px;
  font-weight: 500;
  transition: all 0.3s;
}

.upload-btn:hover {
  background-color: var(--primary);
  color: white;
}

.upload-btn-wrapper input[type=file] {
  font-size: 100px;
  position: absolute;
  left: 0;
  top: 0;
  opacity: 0;
  cursor: pointer;
}

.form-text {
  font-size: 12px;
  color: var(--text-gray);
}

.password-requirements {
  margin-top: 20px;
  padding: 15px;
  background-color: var(--light-gray);
  border-radius: 8px;
}

.requirement {
  display: flex;
  align-items: center;
  margin-bottom: 8px;
  font-size: 14px;
  color: var(--text-gray);
}

.requirement i {
  margin-right: 8px;
}

.requirement.valid {
  color: #198754;
}

.form-actions {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: 30px;
}

.login-link {
  color: var(--primary);
  text-decoration: none;
  font-weight: 500;
}

.login-link:hover {
  text-decoration: underline;
}
</style>
<body>
    <div class="registration-container">
        <div class="registration-header">
            <div class="logo-container">
                <div class="logo">RUN</div>
                <div class="brand-text">POLLS</div>
            </div>
            <h1 class="registration-title">Create your account</h1>
        </div>
        
        <div class="registration-form">
            <form id="registrationForm">
                <!-- Profile Picture Upload -->
                <div class="profile-upload-container">
                    <div class="profile-preview" id="profilePreview">
                        <i class="bi bi-person-fill profile-icon" id="profileIcon"></i>
                        <!-- Preview image will be shown here -->
                    </div>
                    <div class="upload-btn-wrapper">
                        <button type="button" class="upload-btn">
                            <i class="bi bi-camera"></i> Upload Profile Picture
                        </button>
                        <input type="file" id="profilePicture" accept="image/*" />
                    </div>
                    <div class="form-text mt-2">Recommended: Square image, max 2MB</div>
                </div>
                
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="firstName" class="form-label">First Name</label>
                        <input type="text" class="form-control" id="firstName" required>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="lastName" class="form-label">Last Name</label>
                        <input type="text" class="form-control" id="lastName" required>
                    </div>
                </div>
                
                <div class="mb-3">
                    <label for="email" class="form-label">Email address</label>
                    <input type="email" class="form-control" id="email" required>
                </div>
                
                <!-- Phone Number Field -->
                <div class="mb-3">
                    <label for="phoneNumber" class="form-label">Phone Number</label>
                    <input type="tel" class="form-control" id="phoneNumber" placeholder="e.g., +123 456 7890" required>
                </div>
                
                <div class="mb-3">
                    <label for="studentId" class="form-label">Student ID</label>
                    <input type="text" class="form-control" id="studentId" required>
                </div>
                
                <!-- Department Field -->
                <div class="mb-3">
                    <label for="department" class="form-label">Department</label>
                    <select class="form-select" id="department" required>
                        <option value="" selected disabled>Select your department</option>
                        <option value="Computer Science">Computer Science</option>
                        <option value="Engineering">Engineering</option>
                        <option value="Business">Business</option>
                        <option value="Arts">Arts</option>
                        <option value="Sciences">Sciences</option>
                        <option value="Medicine">Medicine</option>
                        <option value="Law">Law</option>
                        <option value="other">Other</option>
                    </select>
                </div>
                
                <!-- Birthday Field -->
                <div class="mb-3">
                    <label for="birthday" class="form-label">Date of Birth</label>
                    <input type="date" class="form-control" id="birthday" required>
                </div>
                
                <div class="mb-3">
                    <label for="password" class="form-label">Password</label>
                    <input type="password" class="form-control" id="password" required>
                </div>
                
                <div class="mb-3">
                    <label for="confirmPassword" class="form-label">Confirm Password</label>
                    <input type="password" class="form-control" id="confirmPassword" required>
                </div>
                
                <div class="password-requirements">
                    <h6 class="mb-2">Password must contain:</h6>
                    <div class="requirement" id="lengthReq">
                        <i class="bi bi-x-circle"></i> At least 8 characters
                    </div>
                    <div class="requirement" id="upperReq">
                        <i class="bi bi-x-circle"></i> At least one uppercase letter
                    </div>
                    <div class="requirement" id="lowerReq">
                        <i class="bi bi-x-circle"></i> At least one lowercase letter
                    </div>
                    <div class="requirement" id="numberReq">
                        <i class="bi bi-x-circle"></i> At least one number
                    </div>
                </div>
                
                <div class="form-actions">
                    <a href="voter_log_in.html" class="login-link">Already have an account? Log in</a>
                    <button type="submit" class="btn btn-primary">Register</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Bootstrap & Other JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Profile picture preview functionality
            const profilePictureInput = document.getElementById('profilePicture');
            const profilePreview = document.getElementById('profilePreview');
            const profileIcon = document.getElementById('profileIcon');
            
            profilePictureInput.addEventListener('change', function(event) {
                const file = event.target.files[0];
                
                if (file) {
                    // Validate file size (max 2MB)
                    if (file.size > 2 * 1024 * 1024) {
                        alert('File size exceeds 2MB. Please choose a smaller image.');
                        return;
                    }
                    
                    const reader = new FileReader();
                    
                    reader.onload = function(e) {
                        // Hide the icon
                        profileIcon.style.display = 'none';
                        
                        // Create or update image element
                        let img = profilePreview.querySelector('img');
                        if (!img) {
                            img = document.createElement('img');
                            profilePreview.appendChild(img);
                        }
                        
                        img.src = e.target.result;
                        
                        // Store the image data in localStorage for demo purposes
                        // In a real app, you would send this to the server
                        localStorage.setItem('profileImage', e.target.result);
                    };
                    
                    reader.readAsDataURL(file);
                }
            });
            
            // Password validation
            const passwordInput = document.getElementById('password');
            const lengthReq = document.getElementById('lengthReq');
            const upperReq = document.getElementById('upperReq');
            const lowerReq = document.getElementById('lowerReq');
            const numberReq = document.getElementById('numberReq');
            
            passwordInput.addEventListener('input', function() {
                const password = this.value;
                
                // Check requirements
                const meetsLength = password.length >= 8;
                const meetsUpper = /[A-Z]/.test(password);
                const meetsLower = /[a-z]/.test(password);
                const meetsNumber = /[0-9]/.test(password);
                
                // Update UI for each requirement
                updateRequirement(lengthReq, meetsLength);
                updateRequirement(upperReq, meetsUpper);
                updateRequirement(lowerReq, meetsLower);
                updateRequirement(numberReq, meetsNumber);
            });
            
            function updateRequirement(element, isValid) {
                if (isValid) {
                    element.classList.add('valid');
                    element.querySelector('i').className = 'bi bi-check-circle';
                } else {
                    element.classList.remove('valid');
                    element.querySelector('i').className = 'bi bi-x-circle';
                }
            }
            
            // Form submission
            const registrationForm = document.getElementById('registrationForm');
            
            registrationForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Get form data
                const firstName = document.getElementById('firstName').value;
                const lastName = document.getElementById('lastName').value;
                const email = document.getElementById('email').value;
                const phoneNumber = document.getElementById('phoneNumber').value;
                const studentId = document.getElementById('studentId').value;
                const department = document.getElementById('department').value;
                const birthday = document.getElementById('birthday').value;
                const password = document.getElementById('password').value;
                const confirmPassword = document.getElementById('confirmPassword').value;
                const profileImage = localStorage.getItem('profileImage');
                
                // Validate passwords match
                if (password !== confirmPassword) {
                    alert('Passwords do not match!');
                    return;
                }
                
                // Create user object
                const user = {
                    firstName,
                    lastName,
                    email,
                    phoneNumber,
                    studentId,
                    department,
                    birthday,
                    profileImage
                };
                
                // Store user data in localStorage (for demo purposes)
                // In a real app, you would send this to the server
                localStorage.setItem('currentUser', JSON.stringify(user));
                
                // Redirect to login or dashboard page
                alert('Registration successful! Redirecting to login page...');
                window.location.href = 'voter_log_in.html';
            });
        });
    </script>
</body>
</html>